apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: {{ $.Release.Name }}-mode-admin
  namespace: {{ $.Release.Namespace }}

spec:
  headers:
    customRequestHeaders:
      X-Forward-Auth-Type: admin

---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: {{ $.Release.Name }}-mode-soft
  namespace: {{ $.Release.Namespace }}

spec:
  headers:
    customRequestHeaders:
      X-Forward-Auth-Type: soft

---
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
  name: {{ $.Release.Name }}-mode-hard
  namespace: {{ $.Release.Namespace }}

spec:
  headers:
    customRequestHeaders:
      X-Forward-Auth-Type: hard
